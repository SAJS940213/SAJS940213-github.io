<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis XV Años - EMMA</title>
    <!-- Carga de Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Se remueve Tone.js ya que usamos MP3 externo --><script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'quince-pink': '#FF69B4', // Rosa Fuerte (Hot Pink) - Nuevo
                        'quince-gold': '#C0A06D', // Dorado Suave/Pálido (Más tenue) - Nuevo
                        'quince-bg': '#FFF0F5',  // Rosa Lavanda Claro (Fondo muy suave) - Nuevo
                        'quince-accent': '#C2185B', // Rojo frambuesa profundo (Acento principal) - Nuevo
                        'quince-dark': '#8B4513', // Marrón suave para texto de padres
                    },
                    fontFamily: {
                        // FUENTES ACTUALIZADAS PARA SOFISTICACIÓN
                        'script': ['Great Vibes', 'Cursive', 'serif'], 
                        'heading': ['Cormorant Garamond', 'Georgia', 'serif'],
                        'body': ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Importación de las nuevas fuentes */
        @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cormorant+Garamond:wght@400;700&family=Inter&display=swap');
        
        .heading-font {
            font-family: 'Cormorant Garamond', serif; /* Fuente elegante y editorial */
            font-weight: 700; /* Negrita para títulos */
        }
        .script-font {
            font-family: 'Great Vibes', cursive; /* Fuente cursiva sofisticada para el nombre */
            /* Aumentar la sombra para que el texto resalte más */
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.4); 
        }
        .invitation-card {
            /* Nuevo fondo: Gradiente de rosa pálido a rosa lavanda */
            background: linear-gradient(145deg, #FFF0F5, #FFDDEE);
            /* Sombra con toque de rosa y dorado suave */
            box-shadow: 
                0 0 15px rgba(255, 105, 180, 0.5), /* Nuevo: Resplandor rosa tenue */
                0 20px 40px rgba(0, 0, 0, 0.15), /* Sombra externa más suave */
                inset 0 0 10px rgba(192, 160, 109, 0.3); /* Sombra interna dorada sutil */
        }
        /* Estilo para los campos de datos editables */
        .data-input {
            width: 100%;
            padding: 0.5rem;
            margin-top: 0.5rem;
            border: 1px solid #FF69B4; /* Usando el nuevo rosa fuerte */
            border-radius: 0.5rem;
            text-align: center;
            font-weight: 600;
            color: #C2185B; /* Frambuesa */
            background-color: #FFF8FA;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif; /* Mantiene la claridad para los datos */
        }
        .data-input:focus {
            outline: none;
            border-color: #C0A06D; /* Dorado pálido */
            box-shadow: 0 0 0 3px rgba(194, 24, 91, 0.5); /* Sombra rosa fuerte en el foco */
        }
        /* Clase para el adorno de línea */
        .decorative-line {
            height: 1px;
            background: linear-gradient(to right, transparent, #FF69B4, transparent);
            width: 60%;
            margin: 0.5rem auto;
        }
        /* Estilo para el SVG de la esquina (florecimiento) */
        .corner-flourish {
            transform-origin: center center;
            transition: transform 0.3s ease;
            /* El filtro es más sutil, usando el color dorado pálido */
            filter: drop-shadow(0 0 3px rgba(192, 160, 109, 0.9)); 
        }
        /* NUEVO: Contenedor para la imagen/video con perspectiva y overflow */
        .img-container {
            perspective: 1000px; 
            overflow: hidden;
            border-radius: 0.5rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        /* NUEVO: Estilo de movimiento aplicado a la imagen/video */
        .hover-effect {
            transition: transform 0.4s ease-out; /* Transición suave */
        }
        /* NUEVO: Efecto al pasar el ratón (hover) */
        .img-container:hover .hover-effect {
            transform: scale(1.05) rotateX(1deg) rotateY(-1deg); /* Ligero zoom y paralaje */
        }
        /* Asegurar que el video cubra el contenedor sin distorsionar */
        video.hover-effect {
            object-fit: cover;
            width: 100%;
            height: 100%;
        }
        /* Estilos para el Carrusel */
        .carousel-track {
            display: flex;
            transition: transform 0.3s ease-in-out;
            scroll-snap-type: x mandatory; /* Asegura que se detenga bien al deslizar */
        }
        .carousel-slide {
            flex: 0 0 100%;
            scroll-snap-align: start;
        }
        /* Estilo para el ícono de ubicación como botón destacado */
        .map-icon-button {
            padding: 0.75rem 1.5rem;
            border-radius: 9999px; /* Full rounded */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        .map-icon-button:hover {
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
            transform: translateY(-2px);
        }
        /* Colores de Iconos SVG ajustados al nuevo esquema */
        .fill-current {
            fill: currentColor;
        }
    </style>
</head>
<body class="bg-quince-bg flex items-center justify-center min-h-screen p-4 font-body">

    <!-- REPRODUCTOR DE AUDIO MP3 (INVISIBLE) - ENLACE DE CLOUDINARY INSERTADO -->
    <audio id="music-player" src="https://res.cloudinary.com/dyrbvszbj/video/upload/v1760894468/Ed_Sheeran_-_Perfect_zixiyz.mp3" preload="auto" hidden></audio>


    <!-- CONTENEDOR PRINCIPAL: Ahora es relativo para posicionar los adornos de las esquinas --><div class="relative w-full max-w-md mx-auto">
        
        <!-- Adornos SVG de las Esquinas (El Borde Único) --><!-- Top Left --><svg class="corner-flourish absolute top-0 left-0 w-20 h-20 transform -translate-x-1/2 -translate-y-1/2 text-quince-gold rotate-0 z-10" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor" stroke-width="4">
            <path d="M 5 95 C 30 70, 70 30, 95 5" stroke-linecap="round"/>
            <circle cx="10" cy="90" r="3" fill="#C2185B"/>
        </svg>
        
        <!-- Top Right --><svg class="corner-flourish absolute top-0 right-0 w-20 h-20 transform translate-x-1/2 -translate-y-1/2 text-quince-gold rotate-90 z-10" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor" stroke-width="4">
            <path d="M 5 95 C 30 70, 70 30, 95 5" stroke-linecap="round"/>
            <circle cx="10" cy="90" r="3" fill="#C2185B"/>
        </svg>
        
        <!-- Bottom Right --><svg class="corner-flourish absolute bottom-0 right-0 w-20 h-20 transform translate-x-1/2 translate-y-1/2 text-quince-gold rotate-180 z-10" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor" stroke-width="4">
            <path d="M 5 95 C 30 70, 70 30, 95 5" stroke-linecap="round"/>
            <circle cx="10" cy="90" r="3" fill="#C2185B"/>
        </svg>
        
        <!-- Bottom Left --><svg class="corner-flourish absolute bottom-0 left-0 w-20 h-20 transform -translate-x-1/2 translate-y-1/2 text-quince-gold -rotate-90 z-10" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor" stroke-width="4">
            <path d="M 5 95 C 30 70, 70 30, 95 5" stroke-linecap="round"/>
            <circle cx="10" cy="90" r="3" fill="#C2185B"/>
        </svg>

        <!-- TARJETA DE INVITACIÓN (contenido) --><div id="invitation-container" class="invitation-card w-full rounded-xl p-6 md:p-10 text-center border-8 border-quince-gold relative z-20">

            <!-- Pantalla Inicial (Cerrada) --><div id="initial-screen">
                <h1 class="script-font text-7xl text-quince-accent mb-2">Emma</h1>
                <p class="heading-font text-3xl font-bold text-gray-700 mb-6">Mis Quince Años</p>
                
                <div class="decorative-line"></div>
                
                <!-- Nuevo Texto de Reflexión --><p class="text-gray-700 mb-6 italic font-body max-w-xs mx-auto text-sm">
                    "Hoy, al asomarme a la puerta de mis quince años, siento la magia de un sueño que comienza. Los espero para celebrar este nuevo capítulo de mi vida."
                </p>
                
                <div class="decorative-line w-4/5 my-6"></div>

                <!-- Contador Regresivo --><div id="countdown" class="mb-8 heading-font">
                    <p class="text-lg font-bold mb-2 text-quince-accent">¡FALTAN!</p>
                    <div id="countdown-timer" class="text-xl md:text-2xl font-extrabold text-gray-700">
                        -- días -- horas -- minutos -- segundos
                    </div>
                </div>

                <!-- BOTÓN CON ÍCONO DE LIBRO CERRADO --><button id="open-button" class="bg-quince-accent hover:bg-pink-700 text-white font-bold py-3 px-8 rounded-full shadow-xl transition duration-300 transform hover:scale-105 uppercase tracking-wider flex items-center justify-center mx-auto font-heading">
                    Abrir Invitación
                    <!-- Ícono de Libro Cerrado SVG --><svg class="w-5 h-5 ml-2 fill-current text-quince-gold" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M18 2H6C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V4C20 2.89543 19.1046 2 18 2ZM6 4H18V20H6V4ZM16 10H8V8H16V10ZM16 14H8V12H16V14ZM12 18C13.1046 18 14 17.1046 14 16C14 14.8954 13.1046 14 12 14C10.8954 14 10 14.8954 10 16C10 17.1046 10.8954 18 12 18Z" fill="currentColor"/>
                    </svg>
                </button>
            </div>

            <!-- Pantalla de Detalles (Abierta) --><div id="details-screen" class="hidden">
                <!-- Adorno 2: Línea ornamental sutil en la parte superior de los detalles --><div class="decorative-line w-2/3 mb-4"></div>
                
                <h1 class="script-font text-7xl text-quince-accent mb-4">Emma</h1>
                <p class="heading-font text-4xl font-bold text-quince-gold mb-5">¡Llegó el Momento!</p>
                
                <!-- NUEVO TEXTO EMOTIVO RESALTADO (CON COMILLAS Y ESPACIADO) --><p class="text-gray-700 mb-10 italic text-lg font-bold text-quince-accent">
                    <br><br>“Un sueño se transforma en realidad para celebrar la magia de mi juventud.”
                </p>
                
                <!-- CONTENEDOR DE VIDEO CON EFECTO DE MOVIMIENTO (REEMPLAZANDO IMAGEN) --><div class="img-container w-full h-auto mb-8 mx-auto">
                    <video id="quince-video" class="hover-effect w-full h-auto max-h-64 object-cover object-center"
                           autoplay loop muted playsinline
                           poster="https://placehold.co/600x400/FADADD/C2185B?text=Cargando+Video...">
                        <source src="https://imgur.com/LgJjL7s.mp4" type="video/mp4">
                        Tu navegador no soporta la etiqueta de video.
                    </video>
                </div>
                
                <div class="decorative-line w-2/3 mb-6"></div>
                
                <div class="space-y-6 text-gray-700 font-body">
                    
                    <!-- NUEVA POSICIÓN: APARTADO DE PADRINOS (Texto fijo) -->
                    <div class="mt-8 pt-6 border-t border-quince-pink/80">
                        <p class="heading-font text-xl font-bold text-quince-accent mb-2 border-b border-quince-pink pb-1 flex items-center justify-center">
                            <!-- Icono de Manos Entrelazadas/Acompañamiento -->
                            <svg class="w-6 h-6 mr-2 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11 7h2v6h-2zM9.5 7h1.5v6H9.5zM14 7h1.5v6H14zM16.5 7h1.5v6h-1.5z"/>
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                                <circle cx="12" cy="11" r="5"/>
                            </svg>
                            Mis Queridos Padrinos
                        </p>
                        <!-- Texto fijo de Padrinos -->
                        <p class="heading-font text-lg font-semibold text-gray-800 mt-3">
                            Jesús Arana y Marisol Gonzalez
                        </p>
                    </div>
                    
                    <!-- 1. CEREMONIA RELIGIOSA (Mantenida después de Padrinos) -->
                    <p class="heading-font text-xl font-bold text-quince-accent mt-4 mb-2 border-b border-quince-pink pb-1 flex items-center justify-center">
                        <!-- Icono de Templo/Iglesia -->
                        <svg class="w-6 h-6 mr-2 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L4 5v6c0 5.55 3.84 10.74 9 12c.56-.15 1.1-.34 1.62-.57C19.78 20.35 20 17.5 20 15v-4h-2v4c0 2.22-.77 4.1-2.12 5.61C14.77 20.35 12 18.25 12 15V5.1L18 7V5L12 3zM12 9c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                        </svg>
                        Ceremonia Religiosa
                    </p>
                    <div>
                        <label class="block text-sm font-semibold mb-1 text-gray-700">Lugar de la Misa:</label>
                        <!-- CAMPO FIJO: Templo de la Compañía de Jesús -->
                        <p class="heading-font text-lg font-semibold text-gray-800 mt-1 mb-2">
                            Templo de la Compañía de Jesús
                        </p>
                    </div>
                    
                    <!-- UBICACIÓN (SOLO ÍCONO VISIBLE PARA INVITADO) --><div class="flex flex-col items-center">
                        <!-- Campo oculto para edición del administrador -->
                        <input type="url" id="map-link-church" value="[Link de Google Maps/Waze]" class="data-input text-base flex-grow sr-only" placeholder="Ej: Copia y pega aquí el link de ubicación. (Solo Admin)">
                        <!-- Botón de Ubicación -->
                        <button onclick="openMap('map-link-church')" class="bg-quince-accent hover:bg-quince-gold text-white font-bold map-icon-button transition duration-300" title="Ver Ubicación en el Mapa">
                            <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                            </svg>
                            Ver Mapa
                        </button>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold mb-1 text-gray-700">Hora de la Misa:</label>
                        <!-- CAMPO FIJO: 2:00 PM -->
                        <p class="heading-font text-lg font-semibold text-gray-800 mt-1 mb-2">
                            2:00 PM
                        </p>
                    </div>

                    
                    <!-- 2. RECEPCIÓN / FIESTA -->
                    <p class="heading-font text-xl font-bold text-quince-accent mt-6 mb-2 border-b border-quince-pink pb-1 flex items-center justify-center">
                        <!-- Icono de Salón de Fiestas (Edificio de Eventos) -->
                        <svg class="w-6 h-6 mr-2 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 11.55L20 8v10c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V8l8 3.55zM18 6l-6-2.25L6 6l6 2.25L18 6zM6 18h12V9.92L12 12.5L6 9.92V18z"/>
                            <circle cx="12" cy="14" r="1.5"/>
                        </svg>
                        Recepción / Fiesta
                    </p>
                    <div>
                        <label class="block text-sm font-semibold mb-1 text-gray-700">Fecha:</label>
                        <!-- CAMPO FIJO: SÁBADO, 13 de Diciembre del 2025 -->
                        <p class="heading-font text-lg font-semibold text-gray-800 mt-1 mb-2">
                            SÁBADO, 13 de Diciembre del 2025
                        </p>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold mb-1 text-gray-700">Hora de Recepción:</label>
                         <!-- CAMPO FIJO: 4:00 PM -->
                        <p class="heading-font text-lg font-semibold text-gray-800 mt-1 mb-2">
                            4:00 PM
                        </p>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold mb-1 text-gray-700">Lugar de la Fiesta:</label>
                        <!-- CAMPO FIJO: Salón de Eventos "El Quijote Ataca" -->
                        <p class="heading-font text-lg font-semibold text-gray-800 mt-1 mb-2">
                            Salón de Eventos "El Quijote Ataca"
                        </p>
                    </div>
                    
                    <!-- UBICACIÓN (SOLO ÍCONO VISIBLE PARA INVITADO) --><div class="flex flex-col items-center">
                        <!-- Campo oculto para edición del administrador -->
                        <input type="url" id="map-link-reception" value="https://maps.app.goo.gl/8Ue5U74PggMcLNVt8" class="data-input text-base flex-grow sr-only" placeholder="Ej: Copia y pega aquí el link de ubicación. (Solo Admin)">
                        <!-- Botón de Ubicación -->
                        <button onclick="openMap('map-link-reception')" class="bg-quince-accent hover:bg-quince-gold text-white font-bold map-icon-button transition duration-300" title="Ver Ubicación en el Mapa">
                            <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                            </svg>
                            Ver Mapa
                        </button>
                    </div>

                    <!-- NUEVA GALERÍA DE 10 FOTOS (CARRUSEL/SLIDER) -->
                    <div class="mt-10 pt-6 border-t border-quince-pink/80">
                        <p class="heading-font text-2xl font-bold text-quince-accent mb-4">
                            Tesoros Eternos
                        </p>
                        
                        <!-- CONTENEDOR DEL CARRUSEL -->
                        <div class="relative overflow-hidden rounded-lg shadow-xl border-4 border-quince-pink/50">
                            <!-- Pista de Imágenes (Se mueve con JS) -->
                            <div id="carousel-track" class="carousel-track">
                                
                                <!-- ORDEN REAJUSTADO -->
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/3pnmIMv.png" alt="Foto de Emma 3" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/cRxarY0.png" alt="Foto de Emma 1" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/Y90aG9m.png" alt="Foto de Emma 2" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/OEK50rB.png" alt="Foto de Emma 6" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/OVGAY7i.png" alt="Foto de Emma 5" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/WpfiKN2.png" alt="Foto de Emma 4" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/dZDTi69.png" alt="Foto de Emma 10" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/rFN42qx.png" alt="Foto de Emma 7" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/nC90MMM.png" alt="Foto de Emma 8" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                                <div class="carousel-slide">
                                    <img src="https://imgur.com/ju1V0l1.png" alt="Foto de Emma 9" class="w-full h-auto object-cover object-center max-h-64">
                                </div>
                            </div>
                            
                            <!-- Botones de Navegación -->
                            <button onclick="changeSlide(-1)" class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-quince-accent/70 text-white p-2 rounded-r-lg shadow-lg hover:bg-quince-accent transition duration-200">
                                <!-- Flecha Izquierda --><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                            </button>
                            <button onclick="changeSlide(1)" class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-quince-accent/70 text-white p-2 rounded-l-lg shadow-lg hover:bg-quince-accent transition duration-200">
                                <!-- Flecha Derecha --><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                            </button>
                        </div>
                        
                        <p id="slide-indicator" class="text-sm text-gray-500 mt-2">1 / 10</p>
                        <p class="text-xs text-gray-500 mt-2 italic">Desliza o usa los botones para ver la historia de Emma.</p>
                    </div>

                    <!-- APARTADO DE CONFIRMACIÓN CON BOTÓN E IMAGEN -->
                    <div class="mt-8 pt-6 border-t border-quince-pink/80">
                        <p class="heading-font text-2xl font-bold text-quince-accent mb-4">
                            ¡Confirma tu Asistencia!
                        </p>
                        
                        <!-- Imagen de confirmación / RSVP -->
                        <img src="https://placehold.co/600x200/FFF0F5/C2185B?text=RSVP+OBLIGATORIO"
                             alt="Tarjeta de RSVP con ilustración de pareja formal."
                             class="w-full h-auto rounded-lg mb-4 shadow-md max-h-40 object-cover object-center mx-auto">
                        
                        <p class="text-sm italic text-gray-600 mb-4">
                            Necesitamos tu confirmación para tener un asiento reservado. Por favor, ingresa tu nombre y presiona el botón.
                        </p>
                        
                        <!-- NUEVO CAMPO PARA EL NOMBRE DEL INVITADO -->
                        <div class="mb-4">
                            <label for="guest-name" class="block text-sm font-semibold mb-1 text-gray-700">Tu Nombre Completo:</label>
                            <input type="text" id="guest-name" class="data-input text-base" placeholder="Ej: Juan Pérez">
                        </div>

                        <!-- Botón principal de Confirmación (llama a la función JS) -->
                        <button onclick="confirmRSVP()" id="confirm-button" class="bg-quince-accent hover:bg-quince-pink text-white font-bold py-3 px-8 rounded-full shadow-xl transition duration-300 transform hover:scale-105 uppercase tracking-wider flex items-center justify-center mx-auto font-heading">
                            Confirmar Asistencia Ahora
                            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                        </button>
                    </div>

                    <!-- 4. CONTACTO DE RSVP (Texto fijo) -->
                    <p class="heading-font text-xl font-bold text-quince-accent mt-6 mb-2 border-b border-quince-pink pb-1">Contacto para RSVP</p>
                    <div>
                        <label class="block text-sm font-semibold mb-1 text-gray-700">Número de Contacto (WhatsApp/Móvil):</label>
                        <!-- NÚMERO FIJO VISIBLE -->
                        <p class="heading-font text-lg font-semibold text-gray-800 mt-1 mb-2">
                           +52 477 559 1626
                        </p>
                    </div>
                    
                    <p class="pt-4 text-sm font-medium text-gray-600">
                        Agradeceré tu valiosa presencia en este día tan especial.
                    </p>

                    <!-- Adorno 3: Línea divisoria más elegante --><div class="mt-8 pt-4 border-t-2 border-quince-gold/50"> 
                        <p class="text-xs font-light text-gray-500">
                            Gracias por acompañar a Emma en sus XV años.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const initialScreen = document.getElementById('initial-screen');
        const detailsScreen = document.getElementById('details-screen');
        const openButton = document.getElementById('open-button');
        
        // 1. Añadimos las referencias a los elementos de audio y video y carrusel
        const musicPlayer = document.getElementById('music-player');
        const quinceVideo = document.getElementById('quince-video'); 
        const carouselTrack = document.getElementById('carousel-track');
        const slideIndicator = document.getElementById('slide-indicator');
        
        // AJUSTADO: Ahora hay 10 fotos reales
        const totalSlides = 10; 
        let currentSlide = 0; // Índice basado en 0
        
        // 2. Definimos la función de reproducción simple (para MP3)
        const startMusic = () => {
             // Intenta reproducir el archivo MP3
             if (musicPlayer.src && musicPlayer.src !== window.location.href) {
                 musicPlayer.play().catch(error => {
                    console.error("Error al reproducir el MP3. Verifica que la URL sea un enlace directo y no tenga restricciones. Error:", error);
                 });
                 
                 // Función que se ejecuta a los 90 segundos (1 minuto y 30 segundos)
                 setTimeout(() => {
                     // 1. Detener el audio
                     musicPlayer.pause();
                     musicPlayer.currentTime = 0; // Reinicia el audio
                     
                     // 2. Detener y reiniciar el video (si la pantalla de detalles está visible)
                     if (quinceVideo && !detailsScreen.classList.contains('hidden')) {
                         quinceVideo.pause();
                         quinceVideo.currentTime = 0;
                     }
                 }, 90000); // DURACIÓN ACTUAL DE 90 SEGUNDOS

             } else {
                 console.log("No hay una URL MP3 válida configurada.");
             }
        };

        // --- 3. Lógica del Carrusel ---
        window.changeSlide = function(direction) {
            currentSlide += direction;

            // Lógica de bucle para 10 slides
            if (currentSlide < 0) {
                currentSlide = totalSlides - 1; // Ir al último
            } else if (currentSlide >= totalSlides) {
                currentSlide = 0; // Ir al primero
            }
            
            // Aplicar el desplazamiento
            const offset = currentSlide * 100; // Desplazar el 100% del ancho
            carouselTrack.style.transform = `translateX(-${offset}%)`;
            
            // Actualizar indicador (índice basado en 1)
            slideIndicator.textContent = `${currentSlide + 1} / ${totalSlides}`;
        }
        
        // --- 4. Lógica del Botón Principal ---
        
        openButton.addEventListener('click', () => {
            startMusic();
            initialScreen.classList.add('hidden');
            detailsScreen.classList.remove('hidden');

            // NUEVA LÍNEA: Forzar el desplazamiento al tope de la ventana
            window.scrollTo(0, 0); 

            // FIX: Forzar la reproducción del video aquí, ya que el usuario ha interactuado
            if (quinceVideo && quinceVideo.paused) {
                quinceVideo.play().catch(e => console.error("Error al forzar play del video:", e));
            }
        });

        // --- 5. Lógica del Contador Regresivo ---
        // Se actualiza el contador para usar la fecha fija: 13 de Diciembre de 2025, 4:00 PM
        const targetDate = new Date('2025-12-13T16:00:00').getTime(); 
        const countdownElement = document.getElementById('countdown-timer');

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                clearInterval(countdownInterval);
                countdownElement.innerHTML = "¡LA FIESTA ES HOY! ¡Te esperamos!";
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            countdownElement.innerHTML = 
                `<span class="text-quince-gold">${days}</span> días | 
                 <span class="text-quince-gold">${hours}</span> hrs | 
                 <span class="text-quince-gold">${minutes}</span> mins | 
                 <span class="text-quince-gold">${seconds}</span> segs`;
        }

        updateCountdown();
        const countdownInterval = setInterval(updateCountdown, 1000);

        // --- 6. Funciones de Navegación y RSVP (sin cambios) ---
        function openMap(inputId) {
            const inputElement = document.getElementById(inputId);
            // El elemento ya no es visible para el usuario, pero sigue siendo editable en el código
            let url = inputElement.value.trim(); 
            
            if (!url || url === '[Link de Google Maps/Waze]') {
                // NOTA: Para el invitado final, esta alerta no se mostraría, solo para el administrador si no edita el campo.
                console.error("¡ERROR ADMIN! El link de ubicación está vacío o es el marcador de posición."); 
                return;
            }

            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                url = 'https://' + url;
            }

            window.open(url, '_blank');
        }

        function confirmRSVP() {
            const contactInput = document.getElementById('rsvp-contact');
            const guestNameInput = document.getElementById('guest-name');
            
            // Usar el valor fijo del campo oculto
            const contactNumber = "524775591626"; 
            const guestName = guestNameInput.value.trim();

            if (!guestName) {
                guestNameInput.style.borderColor = '#C2185B'; 
                guestNameInput.placeholder = "¡Debes ingresar tu nombre!";
                setTimeout(() => {
                    guestNameInput.style.borderColor = '#FFC0CB';
                    guestNameInput.placeholder = "Ej: Juan Pérez";
                }, 3000);
                return;
            }

            const defaultMessage = encodeURIComponent(`Hola, confirmo mi asistencia a los XV años de Emma. Mi nombre es ${guestName}.`);
            const whatsappUrl = `https://wa.me/${contactNumber}?text=${defaultMessage}`;
            
            window.open(whatsappUrl, '_blank');
        }

        window.onload = () => {
            console.log("Invitación cargada. Haz clic en 'Abrir Invitación' para iniciar la música.");
        };
    </script>
</body>
</html>
